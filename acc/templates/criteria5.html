{% extends 'base.html' %}

{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Meta -->
    <meta name="description" content="Best Bootstrap Admin Dashboards">
    <meta name="author" content="Bootstrap Gallery" />
    <link rel="canonical" href="https://www.bootstrap.gallery/">
    <meta property="og:url" content="https://www.bootstrap.gallery">
    <meta property="og:title" content="Admin Templates - Dashboard Templates | Bootstrap Gallery">
    <meta property="og:description" content="Marketplace for Bootstrap Admin Dashboards">
    <meta property="og:type" content="Website">
    <meta property="og:site_name" content="Bootstrap Gallery">
    <link rel="shortcut icon" href="assets/images/favicon.svg">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="assets/css/animate.css">

    <!-- Bootstrap font icons css -->
    <link rel="stylesheet" href="assets/fonts/bootstrap/bootstrap-icons.css">

    <!-- Main css -->
    <link rel="stylesheet" href="assets/css/main.min.css">


    <!-- *************
        ************ Vendor Css Files *************
    ************ -->

    <!-- Scrollbar CSS -->
    <link rel="stylesheet" href="assets/vendor/overlay-scroll/OverlayScrollbars.min.css">
</head>
<body>
    <div class="content-wrapper-scroll">

        <!-- Content wrapper start -->
        <div class="content-wrapper">            
            <!-- Row start -->
            <div class="row">
                <div class="col-12">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-title">Criteria 5
                                    <small class="text-muted d-block text-justify">Description: The highlights of this Criterion V are the efforts of an institution to provide necessary assistance to students, to enable them to acquire meaningful experiences for learning at the campus and to facilitate their holistic development and progression. It also looks into student performance and alumni profiles and the progression of students to higher education and gainful employment.</small> 
                                  </div>
                            </div>
                            <div class="card-body">
                                <div class="accordion" id="accordionPanelsStayOpenExample">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                                            <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true"
                                                aria-controls="panelsStayOpen-collapseOne">
                                                Criteria 5.1
                                            </button>
                                        </h2>
                                        <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show"
                                        aria-labelledby="panelsStayOpen-headingOne">
                                        <div class="accordion-body text-justify">
                                            Facilitating mechanisms like guidance cell, placement cell, grievance redressal cell and welfare measures to support students. Specially designed inputs are provided to the needy students with learning difficulties. Provision is made for bridge and value added courses in relevant areas. Institution has a well structured, organized guidance and counseling system in place. Students benefited through scholarships, freeships and other means should be identified by HEIs.

                                        </div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false"
                                                aria-controls="panelsStayOpen-collapseTwo">
                                                Criteria 5.2
                                            </button>
                                        </h2>
                                        <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse"
                                            aria-labelledby="panelsStayOpen-headingTwo">
                                            <div class="accordion-body text-justify">
                                                The Institution’s concern for student progression to higher studies and/or to employment is a pertinent issue. Identify the reasons for poor attainment and plan and implement remedial measures. Sustainable good practices which effectively support the students facilitate optimal progression. The institutional provisions facilitate vertical movement of students from one level of education to the next higher level or towards gainful employment. Student qualifying for state/national/international level exam or competition should be identified by HEIs.

                                            </div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="panelsStayOpen-headingThree">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#panelsStayOpen-collapseThree" aria-expanded="false"
                                                aria-controls="panelsStayOpen-collapseThree">
                                                Criteria 5.3
                                            </button>
                                        </h2>
                                        <div id="panelsStayOpen-collapseThree" class="accordion-collapse collapse"
                                            aria-labelledby="panelsStayOpen-headingThree">
                                            <div class="accordion-body text-justify">
                                                The institution promotes inclusive practices for social justice and better stakeholder relationships. The institution promotes value- based education for inculcating social responsibility and good citizenry amongst its student community. The institution has the required infrastructure and promotes active participation of the students in social, cultural and leisure activities. Encouraging students’ participation in activities facilitates developing various skills and competencies and foster holistic development.

                                            </div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="panelsStayOpen-headingFour">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#panelsStayOpen-collapseFour" aria-expanded="false"
                                                aria-controls="panelsStayOpen-collapseFour">
                                                Criteria 5.4
                                            </button>
                                        </h2>
                                        <div id="panelsStayOpen-collapseFour" class="accordion-collapse collapse"
                                            aria-labelledby="panelsStayOpen-headingFour">
                                            <div class="accordion-body">
                                                The Alumni are a strong support to the institution. An active Alumni Association can contribute in academic matters, student support as well as mobilization of resources – both financial and non financial. The institution nurtures the alumni association/chapters to facilitate them to contribute significantly to the development of the institution through financial and non-financial means.
                                                
                                            </div>
                                        </div>
                                    </div>
                                    
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Row end -->

        </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
    // Event listener for the Add Criteria button
    document.querySelectorAll('[data-bs-toggle="modal"]').forEach(function (button) {
        button.addEventListener('click', function () {
            var username = button.getAttribute('data-username');
            var assignedCriteria = button.getAttribute('data-assigned').split(',');
            var unassignedCriteria = button.getAttribute('data-unassigned').split(',');

            // Clear the previous criteria in the modal
            var unassignedList = document.getElementById('unassignedCriteriaList');
            unassignedList.innerHTML = '';

            // Populate the modal with unassigned criteria
            unassignedCriteria.forEach(function (criteria) {
                if (criteria.trim() !== '') {  // Ensure empty strings are ignored
                    var checkbox = `
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="${criteria}" id="criteria_${criteria}">
                            <label class="form-check-label" for="criteria_${criteria}">${criteria}</label>
                        </div>`;
                    unassignedList.innerHTML += checkbox;
                }
            });

            // Store the username for submission
            document.getElementById('criteriaForm').setAttribute('data-username', username);
        });
    });

    // Event listener for Add Selected Criteria button
    document.getElementById('addSelectedCriteria').addEventListener('click', function () {
        var form = document.getElementById('criteriaForm');
        var username = form.getAttribute('data-username');
        var selectedCriteria = [];

        // Collect selected criteria
        form.querySelectorAll('input[type="checkbox"]:checked').forEach(function (checkbox) {
            selectedCriteria.push(checkbox.value);
        });

        // Check if any criteria are selected
        if (selectedCriteria.length === 0) {
            alert("Please select at least one criteria to add.");
            return;  // Stop further execution if no criteria are selected
        }

        // Create the URL for the AJAX request
        var criteriaList = selectedCriteria.join(','); // Join selected criteria with commas
        // var requestUrl = /assign-criteria/${username}/${criteriaList}/; // Adjust this if your URL pattern is different

        // Send AJAX request to the specified URL
        fetch(requestUrl, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': '{{ csrf_token }}'  // Ensure CSRF protection is handled
            },
            body: JSON.stringify({
                criteria: selectedCriteria
            })
        })
        .then(response => {
            if (response.ok) {
                return response.json();
            }
            throw new Error('Network response was not ok.');
        })
        .then(data => {
            // Handle success (e.g., update the UI)
            console.log(data); // Check the response
            // Optionally, you can close the modal here
            $('#criteriaModal').modal('hide');
            // Optionally, refresh the criteria list for the user or update the UI
            location.reload(); // Reload the page to reflect changes
        })
        .catch(error => {
            console.error('There has been a problem with your fetch operation:', error);
        });
    });
});
        </script>
    <script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/bootstrap.bundle.min.js"></script>
		<script src="assets/js/modernizr.js"></script>
		<script src="assets/js/moment.js"></script>

		<!-- *************
			************ Vendor Js Files *************
		************* -->

		<!-- Overlay Scroll JS -->
		<script src="assets/vendor/overlay-scroll/jquery.overlayScrollbars.min.js"></script>
		<script src="assets/vendor/overlay-scroll/custom-scrollbar.js"></script>

		<!-- Main Js Required -->
		<script src="assets/js/main.js"></script>
</body>
</html>
{% endblock %}