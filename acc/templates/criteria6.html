{% extends 'base.html' %}

{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Meta -->
    <meta name="description" content="Best Bootstrap Admin Dashboards">
    <meta name="author" content="Bootstrap Gallery" />
    <link rel="canonical" href="https://www.bootstrap.gallery/">
    <meta property="og:url" content="https://www.bootstrap.gallery">
    <meta property="og:title" content="Admin Templates - Dashboard Templates | Bootstrap Gallery">
    <meta property="og:description" content="Marketplace for Bootstrap Admin Dashboards">
    <meta property="og:type" content="Website">
    <meta property="og:site_name" content="Bootstrap Gallery">
    <link rel="shortcut icon" href="assets/images/favicon.svg">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="assets/css/animate.css">

    <!-- Bootstrap font icons css -->
    <link rel="stylesheet" href="assets/fonts/bootstrap/bootstrap-icons.css">

    <!-- Main css -->
    <link rel="stylesheet" href="assets/css/main.min.css">


    <!-- *************
        ************ Vendor Css Files *************
    ************ -->

    <!-- Scrollbar CSS -->
    <link rel="stylesheet" href="assets/vendor/overlay-scroll/OverlayScrollbars.min.css">
</head>
<body>
    <div class="content-wrapper-scroll">

        <!-- Content wrapper start -->
        <div class="content-wrapper">            
            <!-- Row start -->
            <div class="row">
                <div class="col-12">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-title">Criteria 6
                                    <small class="text-muted d-block text-justify">Description: Effective functioning of an institution can be gauged by the policies and practices it has evolved in the matter of planning human resources, recruitment, training, performance appraisal, financial management and the overall role of leadership.</small> 
                                  </div>
                            </div>
                            <div class="card-body">
                                <div class="accordion" id="accordionPanelsStayOpenExample">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                                            <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true"
                                                aria-controls="panelsStayOpen-collapseOne">
                                                Criteria 6.1
                                            </button>
                                        </h2>
                                        <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show"
                                        aria-labelledby="panelsStayOpen-headingOne">
                                        <div class="accordion-body text-justify">
                                            Effective leadership by setting values and participative decision- making process is key not only to achieve the vision, mission and goals of the institution but also in building the organizational culture. The formal and informal arrangements in the institution to co-ordinate the academic and administrative planning and implementation reflects the institutions efforts in achieving its vision.

                                        </div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false"
                                                aria-controls="panelsStayOpen-collapseTwo">
                                                Criteria 6.2
                                            </button>
                                        </h2>
                                        <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse"
                                            aria-labelledby="panelsStayOpen-headingTwo">
                                            <div class="accordion-body text-justify">
                                                The leadership provides clear vision and mission to the institution. The functions of the institution and its academic and administrative units are governed by the principles of participation and transparency. Formulation of development objectives, directives and guidelines with specific plans for implementation by aligning the academic and administrative aspects improves the overall quality of the institutional provisions.

                                            </div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="panelsStayOpen-headingThree">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#panelsStayOpen-collapseThree" aria-expanded="false"
                                                aria-controls="panelsStayOpen-collapseThree">
                                                Criteria 6.3
                                            </button>
                                        </h2>
                                        <div id="panelsStayOpen-collapseThree" class="accordion-collapse collapse"
                                            aria-labelledby="panelsStayOpen-headingThree">
                                            <div class="accordion-body text-justify">
                                                The process of planning human resources including recruitment, performance appraisal and planning professional development programmes and seeking appropriate feedback, analysis of responses and ensure that they form the basis for planning. Efforts are made to upgrade the professional competence of the staff. There are mechanisms evolved for regular performance appraisal of staff.

                                            </div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="panelsStayOpen-headingFour">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#panelsStayOpen-collapseFour" aria-expanded="false"
                                                aria-controls="panelsStayOpen-collapseFour">
                                                Criteria 6.4
                                            </button>
                                        </h2>
                                        <div id="panelsStayOpen-collapseFour" class="accordion-collapse collapse"
                                            aria-labelledby="panelsStayOpen-headingFour">
                                            <div class="accordion-body">
                                                Budgeting and optimum utilization of finance as well as mobilization of resources are the issues considered under this Key Indicator. There are established procedures and processes for planning and allocation of financial resources. The institution has developed strategies for mobilizing resources and ensures transparency in financial management of the institution. The income and expenditure of the institution are subjected to regular internal and external audit.

                                            </div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="panelsStayOpen-headingFive">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#panelsStayOpen-collapseFive" aria-expanded="false"
                                                aria-controls="panelsStayOpen-collapseFive">
                                                Criteria 6.5
                                            </button>
                                        </h2>
                                        <div id="panelsStayOpen-collapseFive" class="accordion-collapse collapse"
                                            aria-labelledby="panelsStayOpen-headingFive">
                                            <div class="accordion-body">
                                                The internal quality assurance systems of HEIs are Self-regulated responsibilities of the higher education institutions, aimed at continuous improvement of quality and achieving academic excellence. The institution has mechanisms for academic and administrative auditing. It  adopts quality management strategies in all academic and administrative aspects. The institution has an IQAC and adopts a participatory approach in managing its provisions.
                                                
                                            </div>
                                        </div>
                                    </div>
                                    
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Row end -->

        </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
    // Event listener for the Add Criteria button
    document.querySelectorAll('[data-bs-toggle="modal"]').forEach(function (button) {
        button.addEventListener('click', function () {
            var username = button.getAttribute('data-username');
            var assignedCriteria = button.getAttribute('data-assigned').split(',');
            var unassignedCriteria = button.getAttribute('data-unassigned').split(',');

            // Clear the previous criteria in the modal
            var unassignedList = document.getElementById('unassignedCriteriaList');
            unassignedList.innerHTML = '';

            // Populate the modal with unassigned criteria
            unassignedCriteria.forEach(function (criteria) {
                if (criteria.trim() !== '') {  // Ensure empty strings are ignored
                    var checkbox = `
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="${criteria}" id="criteria_${criteria}">
                            <label class="form-check-label" for="criteria_${criteria}">${criteria}</label>
                        </div>`;
                    unassignedList.innerHTML += checkbox;
                }
            });

            // Store the username for submission
            document.getElementById('criteriaForm').setAttribute('data-username', username);
        });
    });

    // Event listener for Add Selected Criteria button
    document.getElementById('addSelectedCriteria').addEventListener('click', function () {
        var form = document.getElementById('criteriaForm');
        var username = form.getAttribute('data-username');
        var selectedCriteria = [];

        // Collect selected criteria
        form.querySelectorAll('input[type="checkbox"]:checked').forEach(function (checkbox) {
            selectedCriteria.push(checkbox.value);
        });

        // Check if any criteria are selected
        if (selectedCriteria.length === 0) {
            alert("Please select at least one criteria to add.");
            return;  // Stop further execution if no criteria are selected
        }

        // Create the URL for the AJAX request
        var criteriaList = selectedCriteria.join(','); // Join selected criteria with commas
        // var requestUrl = /assign-criteria/${username}/${criteriaList}/; // Adjust this if your URL pattern is different

        // Send AJAX request to the specified URL
        fetch(requestUrl, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': '{{ csrf_token }}'  // Ensure CSRF protection is handled
            },
            body: JSON.stringify({
                criteria: selectedCriteria
            })
        })
        .then(response => {
            if (response.ok) {
                return response.json();
            }
            throw new Error('Network response was not ok.');
        })
        .then(data => {
            // Handle success (e.g., update the UI)
            console.log(data); // Check the response
            // Optionally, you can close the modal here
            $('#criteriaModal').modal('hide');
            // Optionally, refresh the criteria list for the user or update the UI
            location.reload(); // Reload the page to reflect changes
        })
        .catch(error => {
            console.error('There has been a problem with your fetch operation:', error);
        });
    });
});
        </script>
    <script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/bootstrap.bundle.min.js"></script>
		<script src="assets/js/modernizr.js"></script>
		<script src="assets/js/moment.js"></script>

		<!-- *************
			************ Vendor Js Files *************
		************* -->

		<!-- Overlay Scroll JS -->
		<script src="assets/vendor/overlay-scroll/jquery.overlayScrollbars.min.js"></script>
		<script src="assets/vendor/overlay-scroll/custom-scrollbar.js"></script>

		<!-- Main Js Required -->
		<script src="assets/js/main.js"></script>
</body>
</html>
{% endblock %}