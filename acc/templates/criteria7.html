{% extends 'base.html' %}

{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Meta -->
    <meta name="description" content="Best Bootstrap Admin Dashboards">
    <meta name="author" content="Bootstrap Gallery" />
    <link rel="canonical" href="https://www.bootstrap.gallery/">
    <meta property="og:url" content="https://www.bootstrap.gallery">
    <meta property="og:title" content="Admin Templates - Dashboard Templates | Bootstrap Gallery">
    <meta property="og:description" content="Marketplace for Bootstrap Admin Dashboards">
    <meta property="og:type" content="Website">
    <meta property="og:site_name" content="Bootstrap Gallery">
    <link rel="shortcut icon" href="assets/images/favicon.svg">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="assets/css/animate.css">

    <!-- Bootstrap font icons css -->
    <link rel="stylesheet" href="assets/fonts/bootstrap/bootstrap-icons.css">

    <!-- Main css -->
    <link rel="stylesheet" href="assets/css/main.min.css">


    <!-- *************
        ************ Vendor Css Files *************
    ************ -->

    <!-- Scrollbar CSS -->
    <link rel="stylesheet" href="assets/vendor/overlay-scroll/OverlayScrollbars.min.css">
</head>
<body>
    <div class="content-wrapper-scroll">

        <!-- Content wrapper start -->
        <div class="content-wrapper">            
            <!-- Row start -->
            <div class="row">
                <div class="col-12">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-title">Criteria 7
                                    <small class="text-muted d-block text-justify">Description: An educational institution operates in the context of the larger education system in the country. In order to be relevant in changing national and global contexts an educational institution has to be responsive to the emerging challenges and pressing issues. It has a social responsibility to be proactive in the efforts towards development in the larger contexts. This role of the institution is reflected in terms of the kinds of programmes, activities and preferences (values) that it incorporates within its regular functioning. The extent to which an institution is impactful in this is a sure reflection of its quality.
                                        Every institution has a mandate to be responsive to at least a few pressing issues such as gender equity, environmental consciousness and sustainability, inclusiveness and professional ethics, but the way it addresses these and evolves practices will always be unique. Every institution faces and resolves various kinds of internal pressures and situations while doing this. Some meaningful practices pertinent to such situations are evolved within the institution and these help smooth functioning and also lead to enhanced impact. Such practices which are evolved internally by the institution leading to improvements in any one aspect of its functioning – academic, administrative or organizational, - are recognized as a “best practices”. Over a period of time, due to such unique ways of functioning each institution develops distinct characteristic which becomes its recognizable attribute.
                                        </small> 
                                  </div>
                            </div>
                            <div class="card-body">
                                <div class="accordion" id="accordionPanelsStayOpenExample">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                                            <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true"
                                                aria-controls="panelsStayOpen-collapseOne">
                                                Criteria 7.1
                                            </button>
                                        </h2>
                                        <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show"
                                        aria-labelledby="panelsStayOpen-headingOne">
                                        <div class="accordion-body text-justify">
                                            The institution organizes gender equity promotion programmes. The institution displays sensitivity to issues like climate change and environmental issues. It adopts environment friendly practices and takes necessary actions such as – energy conservation, rain water harvesting, waste recycling (solid/liquid waste management, e-waste management), carbon neutral, green practices etc. The institution facilitates the differently abled (Divyangjan friendliness), effective dealing of location advantages and disadvantages (situatedness), explicit concern for human values and professional ethics etc. In other words, the concerns for social responsibilities as well as the values held by the institution are explicit in its regular activities.

                                        </div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false"
                                                aria-controls="panelsStayOpen-collapseTwo">
                                                Criteria 7.2
                                            </button>
                                        </h2>
                                        <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse"
                                            aria-labelledby="panelsStayOpen-headingTwo">
                                            <div class="accordion-body text-justify">
                                                Any practice or practices that the institution has internally evolved and used during the last few years leading to positive impact on the regular functioning of the institution can be identified as “best practice/s”. These are not any activity prescribed by some authority. At some point in time the institution evolves some innovation or a change in some aspect of functioning. This practice is relevant mainly within the institution at a given point in time. It could be in respect of teaching learning, office practices, maintenance and up keep of things or dealing with human beings or money matters. But adopting that practice has resolved the difficulty or has brought in greater ease in working in that aspect. In brief, these ‘best practices’ are relevant within the institutional context and may pertain to either academic or administrative or organizational aspects of institutional functioning.

                                            </div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="panelsStayOpen-headingThree">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#panelsStayOpen-collapseThree" aria-expanded="false"
                                                aria-controls="panelsStayOpen-collapseThree">
                                                Criteria 7.3
                                            </button>
                                        </h2>
                                        <div id="panelsStayOpen-collapseThree" class="accordion-collapse collapse"
                                            aria-labelledby="panelsStayOpen-headingThree">
                                            <div class="accordion-body text-justify">
                                                Every institution would like to be recognized for certain of its attributes which make it ‘distinct’, or, one of its kinds. Such attributes characterize the institution and are reflected in all its activities in focus and practice.

                                            </div>
                                        </div>
                                    </div>
                                    
                                    
                                    
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Row end -->

        </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
    // Event listener for the Add Criteria button
    document.querySelectorAll('[data-bs-toggle="modal"]').forEach(function (button) {
        button.addEventListener('click', function () {
            var username = button.getAttribute('data-username');
            var assignedCriteria = button.getAttribute('data-assigned').split(',');
            var unassignedCriteria = button.getAttribute('data-unassigned').split(',');

            // Clear the previous criteria in the modal
            var unassignedList = document.getElementById('unassignedCriteriaList');
            unassignedList.innerHTML = '';

            // Populate the modal with unassigned criteria
            unassignedCriteria.forEach(function (criteria) {
                if (criteria.trim() !== '') {  // Ensure empty strings are ignored
                    var checkbox = `
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="${criteria}" id="criteria_${criteria}">
                            <label class="form-check-label" for="criteria_${criteria}">${criteria}</label>
                        </div>`;
                    unassignedList.innerHTML += checkbox;
                }
            });

            // Store the username for submission
            document.getElementById('criteriaForm').setAttribute('data-username', username);
        });
    });

    // Event listener for Add Selected Criteria button
    document.getElementById('addSelectedCriteria').addEventListener('click', function () {
        var form = document.getElementById('criteriaForm');
        var username = form.getAttribute('data-username');
        var selectedCriteria = [];

        // Collect selected criteria
        form.querySelectorAll('input[type="checkbox"]:checked').forEach(function (checkbox) {
            selectedCriteria.push(checkbox.value);
        });

        // Check if any criteria are selected
        if (selectedCriteria.length === 0) {
            alert("Please select at least one criteria to add.");
            return;  // Stop further execution if no criteria are selected
        }

        // Create the URL for the AJAX request
        var criteriaList = selectedCriteria.join(','); // Join selected criteria with commas
        // var requestUrl = /assign-criteria/${username}/${criteriaList}/; // Adjust this if your URL pattern is different

        // Send AJAX request to the specified URL
        fetch(requestUrl, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': '{{ csrf_token }}'  // Ensure CSRF protection is handled
            },
            body: JSON.stringify({
                criteria: selectedCriteria
            })
        })
        .then(response => {
            if (response.ok) {
                return response.json();
            }
            throw new Error('Network response was not ok.');
        })
        .then(data => {
            // Handle success (e.g., update the UI)
            console.log(data); // Check the response
            // Optionally, you can close the modal here
            $('#criteriaModal').modal('hide');
            // Optionally, refresh the criteria list for the user or update the UI
            location.reload(); // Reload the page to reflect changes
        })
        .catch(error => {
            console.error('There has been a problem with your fetch operation:', error);
        });
    });
});
        </script>
    <script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/bootstrap.bundle.min.js"></script>
		<script src="assets/js/modernizr.js"></script>
		<script src="assets/js/moment.js"></script>

		<!-- *************
			************ Vendor Js Files *************
		************* -->

		<!-- Overlay Scroll JS -->
		<script src="assets/vendor/overlay-scroll/jquery.overlayScrollbars.min.js"></script>
		<script src="assets/vendor/overlay-scroll/custom-scrollbar.js"></script>

		<!-- Main Js Required -->
		<script src="assets/js/main.js"></script>
</body>
</html>
{% endblock %}